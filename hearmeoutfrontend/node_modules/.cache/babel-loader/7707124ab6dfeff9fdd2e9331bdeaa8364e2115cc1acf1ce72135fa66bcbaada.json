{"ast":null,"code":"import axios from'axios';import{sessionService}from'redux-react-session';export var loginUser=function loginUser(credentials,history,setFieldError,setSubmitting){// Make checks and get some data \naxios.post(\"https://pacific-crag-23508-08f16cfd5ebd.herokuapp.com/user/signin\",credentials,{headers:{\"Content-Type\":\"application/json\"}}).then(function(response){var data=response.data;if(data.status===\"FAILED\"){var message=data.message;//check for specific error\nif(message.includes(\"credentials\")){setFieldError(\"email\",message);setFieldError(\"password\",message);}else if(message.includes(\"password\")){setFieldError(\"password\",message);}}else if(data.status===\"SUCCESS\"){var userData=data.data[0];var token=userData._id;sessionService.saveSession(token).then(function(){sessionService.saveUser(userData).then(function(){history.push(\"/dashboard\");}).catch(function(err){return console.error(err);});}).catch(function(err){return console.error(err);});}//complete submission\nsetSubmitting(false);}).catch(function(err){return console.error(err);});};export var signupUser=function signupUser(credentials,history,setFieldError,setSubmitting){};export var logoutUser=function logoutUser(){};","map":{"version":3,"names":["axios","sessionService","loginUser","credentials","history","setFieldError","setSubmitting","post","headers","then","response","data","status","message","includes","userData","token","_id","saveSession","saveUser","push","catch","err","console","error","signupUser","logoutUser"],"sources":["/Users/davidsonchua/HearMeOut/hearmeoutfrontend/src/auth/actions/userActions.js"],"sourcesContent":["import axios from 'axios';\nimport { sessionService } from 'redux-react-session';\n\nexport const loginUser =(credentials, history,setFieldError, setSubmitting) => {\n    // Make checks and get some data \n    \naxios.post(\"https://pacific-crag-23508-08f16cfd5ebd.herokuapp.com/user/signin\",\n            credentials,\n            {\n                headers: {\n                    \"Content-Type\": \"application/json\"\n                }\n            }\n            ).then((response) => {\n                const{data} = response;\n\n                if (data.status === \"FAILED\") {\n                    const {message} = data;\n\n                    //check for specific error\n                    if (message.includes(\"credentials\")) {\n                        setFieldError(\"email\", message);\n                        setFieldError(\"password\", message);\n                    } else if (message.includes(\"password\")) {\n                        setFieldError(\"password\", message);\n                    }\n\n                } else if (data.status === \"SUCCESS\"){\n                    const userData = data.data[0]; \n\n                    const token = userData._id;\n\n                    sessionService.saveSession(token).then(() => {\n                        sessionService.saveUser(userData).then(() =>{\n                            history.push(\"/dashboard\");\n                        }).catch(err => console.error(err))\n\n                    }).catch(err => console.error(err))\n\n                }\n\n                //complete submission\n                setSubmitting(false)\n            \n            }).catch(err => console.error(err))\n\n\n}\n\nexport const signupUser =(credentials, history,setFieldError, setSubmitting) => {\n    \n}\n\nexport const logoutUser =() => {\n    \n}"],"mappings":"AAAA,MAAO,CAAAA,KAAK,KAAM,OAAO,CACzB,OAASC,cAAc,KAAQ,qBAAqB,CAEpD,MAAO,IAAM,CAAAC,SAAS,CAAE,QAAX,CAAAA,SAASA,CAAGC,WAAW,CAAEC,OAAO,CAACC,aAAa,CAAEC,aAAa,CAAK,CAC3E;AAEJN,KAAK,CAACO,IAAI,CAAC,mEAAmE,CAClEJ,WAAW,CACX,CACIK,OAAO,CAAE,CACL,cAAc,CAAE,kBACpB,CACJ,CACA,CAAC,CAACC,IAAI,CAAC,SAACC,QAAQ,CAAK,CACjB,GAAM,CAAAC,IAAI,CAAID,QAAQ,CAAhBC,IAAI,CAEV,GAAIA,IAAI,CAACC,MAAM,GAAK,QAAQ,CAAE,CAC1B,GAAO,CAAAC,OAAO,CAAIF,IAAI,CAAfE,OAAO,CAEd;AACA,GAAIA,OAAO,CAACC,QAAQ,CAAC,aAAa,CAAC,CAAE,CACjCT,aAAa,CAAC,OAAO,CAAEQ,OAAO,CAAC,CAC/BR,aAAa,CAAC,UAAU,CAAEQ,OAAO,CAAC,CACtC,CAAC,IAAM,IAAIA,OAAO,CAACC,QAAQ,CAAC,UAAU,CAAC,CAAE,CACrCT,aAAa,CAAC,UAAU,CAAEQ,OAAO,CAAC,CACtC,CAEJ,CAAC,IAAM,IAAIF,IAAI,CAACC,MAAM,GAAK,SAAS,CAAC,CACjC,GAAM,CAAAG,QAAQ,CAAGJ,IAAI,CAACA,IAAI,CAAC,CAAC,CAAC,CAE7B,GAAM,CAAAK,KAAK,CAAGD,QAAQ,CAACE,GAAG,CAE1BhB,cAAc,CAACiB,WAAW,CAACF,KAAK,CAAC,CAACP,IAAI,CAAC,UAAM,CACzCR,cAAc,CAACkB,QAAQ,CAACJ,QAAQ,CAAC,CAACN,IAAI,CAAC,UAAK,CACxCL,OAAO,CAACgB,IAAI,CAAC,YAAY,CAAC,CAC9B,CAAC,CAAC,CAACC,KAAK,CAAC,SAAAC,GAAG,QAAI,CAAAC,OAAO,CAACC,KAAK,CAACF,GAAG,CAAC,GAAC,CAEvC,CAAC,CAAC,CAACD,KAAK,CAAC,SAAAC,GAAG,QAAI,CAAAC,OAAO,CAACC,KAAK,CAACF,GAAG,CAAC,GAAC,CAEvC,CAEA;AACAhB,aAAa,CAAC,KAAK,CAAC,CAExB,CAAC,CAAC,CAACe,KAAK,CAAC,SAAAC,GAAG,QAAI,CAAAC,OAAO,CAACC,KAAK,CAACF,GAAG,CAAC,GAAC,CAG/C,CAAC,CAED,MAAO,IAAM,CAAAG,UAAU,CAAE,QAAZ,CAAAA,UAAUA,CAAGtB,WAAW,CAAEC,OAAO,CAACC,aAAa,CAAEC,aAAa,CAAK,CAEhF,CAAC,CAED,MAAO,IAAM,CAAAoB,UAAU,CAAE,QAAZ,CAAAA,UAAUA,CAAA,CAAQ,CAE/B,CAAC"},"metadata":{},"sourceType":"module","externalDependencies":[]}