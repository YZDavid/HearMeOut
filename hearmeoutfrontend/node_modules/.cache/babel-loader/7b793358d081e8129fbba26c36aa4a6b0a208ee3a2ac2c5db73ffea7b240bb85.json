{"ast":null,"code":"import axios from 'axios';\nimport { sessionService } from 'redux-react-session';\nexport const loginUser = (credentials, history, setFieldError, setSubmitting) => {\n  // Make checks and get some data \n\n  axios.post(\"https://pacific-crag-23508-08f16cfd5ebd.herokuapp.com/user/signin\", credentials, {\n    headers: {\n      \"Content-Type\": \"application/json\"\n    }\n  }).then(response => {\n    const {\n      date\n    } = response;\n    if (data.status === \"FAILED\") {\n      const {\n        message\n      } = data;\n\n      //check for specific error\n      if (message.includes(\"credentials\")) {\n        setFieldError(\"email\", message);\n        setFieldError(\"password\", message);\n      } else if (message.includes(\"password\")) {\n        setFieldError(\"password\", message);\n      }\n    } else if (data.status === \"SUCCESS\") {\n      const userData = data.data[0];\n      const token = userData._id;\n      sessionService.saveSession(token).then(() => {\n        sessionService.saveUser(userData).then(() => {\n          history.push(\"/dashboard\");\n        }).catch(err => console.error(err));\n      }).catch(err => console.error(err));\n    }\n\n    //complete submission\n    setSubmitting(false);\n  }).catch(err => console.error(err));\n};\nexport const signupUser = (credentials, history, setFieldError, setSubmitting) => {};\nexport const logoutUser = () => {};","map":{"version":3,"names":["axios","sessionService","loginUser","credentials","history","setFieldError","setSubmitting","post","headers","then","response","date","data","status","message","includes","userData","token","_id","saveSession","saveUser","push","catch","err","console","error","signupUser","logoutUser"],"sources":["/Users/davidyeong/Documents/GitHub/HearMeOut/hearmeoutfrontend/src/auth/actions/userActions.js"],"sourcesContent":["import axios from 'axios';\nimport { sessionService } from 'redux-react-session';\n\nexport const loginUser =(credentials, history,setFieldError, setSubmitting) => {\n    // Make checks and get some data \n    \naxios.post(\"https://pacific-crag-23508-08f16cfd5ebd.herokuapp.com/user/signin\",\n            credentials,\n            {\n                headers: {\n                    \"Content-Type\": \"application/json\"\n                }\n            }\n            ).then((response) => {\n                const{date} = response;\n\n                if (data.status === \"FAILED\") {\n                    const {message} = data;\n\n                    //check for specific error\n                    if (message.includes(\"credentials\")) {\n                        setFieldError(\"email\", message);\n                        setFieldError(\"password\", message);\n                    } else if (message.includes(\"password\")) {\n                        setFieldError(\"password\", message);\n                    }\n\n                } else if (data.status === \"SUCCESS\"){\n                    const userData = data.data[0]; \n\n                    const token = userData._id;\n\n                    sessionService.saveSession(token).then(() => {\n                        sessionService.saveUser(userData).then(() =>{\n                            history.push(\"/dashboard\");\n                        }).catch(err => console.error(err))\n\n                    }).catch(err => console.error(err))\n\n                }\n\n                //complete submission\n                setSubmitting(false)\n            \n            }).catch(err => console.error(err))\n\n\n}\n\nexport const signupUser =(credentials, history,setFieldError, setSubmitting) => {\n    \n}\n\nexport const logoutUser =() => {\n    \n}"],"mappings":"AAAA,OAAOA,KAAK,MAAM,OAAO;AACzB,SAASC,cAAc,QAAQ,qBAAqB;AAEpD,OAAO,MAAMC,SAAS,GAAEA,CAACC,WAAW,EAAEC,OAAO,EAACC,aAAa,EAAEC,aAAa,KAAK;EAC3E;;EAEJN,KAAK,CAACO,IAAI,CAAC,mEAAmE,EAClEJ,WAAW,EACX;IACIK,OAAO,EAAE;MACL,cAAc,EAAE;IACpB;EACJ,CACA,CAAC,CAACC,IAAI,CAAEC,QAAQ,IAAK;IACjB,MAAK;MAACC;IAAI,CAAC,GAAGD,QAAQ;IAEtB,IAAIE,IAAI,CAACC,MAAM,KAAK,QAAQ,EAAE;MAC1B,MAAM;QAACC;MAAO,CAAC,GAAGF,IAAI;;MAEtB;MACA,IAAIE,OAAO,CAACC,QAAQ,CAAC,aAAa,CAAC,EAAE;QACjCV,aAAa,CAAC,OAAO,EAAES,OAAO,CAAC;QAC/BT,aAAa,CAAC,UAAU,EAAES,OAAO,CAAC;MACtC,CAAC,MAAM,IAAIA,OAAO,CAACC,QAAQ,CAAC,UAAU,CAAC,EAAE;QACrCV,aAAa,CAAC,UAAU,EAAES,OAAO,CAAC;MACtC;IAEJ,CAAC,MAAM,IAAIF,IAAI,CAACC,MAAM,KAAK,SAAS,EAAC;MACjC,MAAMG,QAAQ,GAAGJ,IAAI,CAACA,IAAI,CAAC,CAAC,CAAC;MAE7B,MAAMK,KAAK,GAAGD,QAAQ,CAACE,GAAG;MAE1BjB,cAAc,CAACkB,WAAW,CAACF,KAAK,CAAC,CAACR,IAAI,CAAC,MAAM;QACzCR,cAAc,CAACmB,QAAQ,CAACJ,QAAQ,CAAC,CAACP,IAAI,CAAC,MAAK;UACxCL,OAAO,CAACiB,IAAI,CAAC,YAAY,CAAC;QAC9B,CAAC,CAAC,CAACC,KAAK,CAACC,GAAG,IAAIC,OAAO,CAACC,KAAK,CAACF,GAAG,CAAC,CAAC;MAEvC,CAAC,CAAC,CAACD,KAAK,CAACC,GAAG,IAAIC,OAAO,CAACC,KAAK,CAACF,GAAG,CAAC,CAAC;IAEvC;;IAEA;IACAjB,aAAa,CAAC,KAAK,CAAC;EAExB,CAAC,CAAC,CAACgB,KAAK,CAACC,GAAG,IAAIC,OAAO,CAACC,KAAK,CAACF,GAAG,CAAC,CAAC;AAG/C,CAAC;AAED,OAAO,MAAMG,UAAU,GAAEA,CAACvB,WAAW,EAAEC,OAAO,EAACC,aAAa,EAAEC,aAAa,KAAK,CAEhF,CAAC;AAED,OAAO,MAAMqB,UAAU,GAAEA,CAAA,KAAM,CAE/B,CAAC"},"metadata":{},"sourceType":"module","externalDependencies":[]}