{"ast":null,"code":"'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.sessionReducer = exports.sessionService = undefined;\nvar _extends = Object.assign || function (target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i];\n    for (var key in source) {\n      if (Object.prototype.hasOwnProperty.call(source, key)) {\n        target[key] = source[key];\n      }\n    }\n  }\n  return target;\n};\nvar _createClass = function () {\n  function defineProperties(target, props) {\n    for (var i = 0; i < props.length; i++) {\n      var descriptor = props[i];\n      descriptor.enumerable = descriptor.enumerable || false;\n      descriptor.configurable = true;\n      if (\"value\" in descriptor) descriptor.writable = true;\n      Object.defineProperty(target, descriptor.key, descriptor);\n    }\n  }\n  return function (Constructor, protoProps, staticProps) {\n    if (protoProps) defineProperties(Constructor.prototype, protoProps);\n    if (staticProps) defineProperties(Constructor, staticProps);\n    return Constructor;\n  };\n}();\nvar _constants = require('./constants');\nvar _jsCookie = require('js-cookie');\nvar Cookies = _interopRequireWildcard(_jsCookie);\nvar _isPromise = require('is-promise');\nvar _isPromise2 = _interopRequireDefault(_isPromise);\nvar _actions = require('./actions');\nvar _reducer = require('./reducer');\nvar _reducer2 = _interopRequireDefault(_reducer);\nfunction _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : {\n    default: obj\n  };\n}\nfunction _interopRequireWildcard(obj) {\n  if (obj && obj.__esModule) {\n    return obj;\n  } else {\n    var newObj = {};\n    if (obj != null) {\n      for (var key in obj) {\n        if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key];\n      }\n    }\n    newObj.default = obj;\n    return newObj;\n  }\n}\nfunction _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\nvar instance = void 0;\nvar sessionService = exports.sessionService = function () {\n  function sessionService(store, options) {\n    _classCallCheck(this, sessionService);\n    instance = this;\n    sessionService.setOptions(store, options);\n    return instance;\n  }\n  _createClass(sessionService, null, [{\n    key: 'setOptions',\n    value: function setOptions(store) {\n      var _ref = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {},\n        driver = _ref.driver,\n        validateSession = _ref.validateSession,\n        _ref$refreshOnCheckAu = _ref.refreshOnCheckAuth,\n        refreshOnCheckAuth = _ref$refreshOnCheckAu === undefined ? false : _ref$refreshOnCheckAu,\n        _ref$expires = _ref.expires,\n        expires = _ref$expires === undefined ? 360 : _ref$expires,\n        _ref$redirectPath = _ref.redirectPath,\n        redirectPath = _ref$redirectPath === undefined ? 'login' : _ref$redirectPath,\n        _ref$server = _ref.server,\n        server = _ref$server === undefined ? false : _ref$server;\n      instance.store = store;\n      instance.refreshOnCheckAuth = refreshOnCheckAuth;\n      instance.redirectPath = redirectPath;\n      instance.expires = expires;\n      instance.driver = driver;\n      instance.server = server;\n      instance.validateSession = validateSession;\n\n      // configure the storage\n      var storageOptions = {\n        name: 'redux-react-session'\n      };\n      var localforage = require('localforage');\n      if (driver && driver !== 'COOKIES') {\n        storageOptions.driver = localforage[driver];\n      }\n      instance.storage = localforage.createInstance(storageOptions);\n    }\n  }, {\n    key: 'initSessionService',\n    value: function initSessionService(store, options) {\n      instance = new sessionService(store, options);\n      return sessionService.refreshFromLocalStorage();\n    }\n  }, {\n    key: 'initServerSession',\n    value: function initServerSession(store, req, options) {\n      instance = new sessionService(store, _extends({}, options, {\n        server: true\n      }));\n      var parseCookies = function parseCookies(req) {\n        var list = {};\n        var rc = req.get('cookie');\n        rc && rc.split(';').forEach(function (cookie) {\n          var parts = cookie.split('=');\n          if (parts[0].trim() === _constants.USER_SESSION || parts[0].trim() === _constants.USER_DATA) {\n            list[parts[0].trim()] = JSON.parse(decodeURIComponent(parts[1]));\n          }\n        });\n        return list;\n      };\n      return sessionService.saveFromClient(parseCookies(req));\n    }\n  }, {\n    key: 'saveFromClient',\n    value: function saveFromClient(cookies) {\n      return new Promise(function (resolve, reject) {\n        if (cookies[_constants.USER_SESSION]) {\n          sessionService.saveSession(cookies[_constants.USER_SESSION]).then(function () {\n            if (cookies[_constants.USER_DATA]) {\n              sessionService.saveUser(cookies[_constants.USER_DATA]).then(function () {\n                return resolve();\n              });\n            } else {\n              return resolve();\n            }\n          });\n        } else {\n          instance.store.dispatch((0, _actions.getSessionError)());\n          reject('Session not found');\n        }\n      });\n    }\n  }, {\n    key: 'invalidateSession',\n    value: function invalidateSession() {\n      instance.store.dispatch((0, _actions.invalidSession)());\n      sessionService.deleteSession();\n      sessionService.deleteUser();\n    }\n  }, {\n    key: 'attemptLoadUser',\n    value: function attemptLoadUser() {\n      instance.store.dispatch((0, _actions.getSessionSuccess)());\n      return sessionService.loadUser().then(function (user) {\n        instance.store.dispatch((0, _actions.getUserSessionSuccess)(user));\n      }).catch(function () {\n        instance.store.dispatch((0, _actions.getUserSessionError)());\n      });\n    }\n  }, {\n    key: 'refreshFromLocalStorage',\n    value: function refreshFromLocalStorage() {\n      var _this = this;\n      return sessionService.loadSession().then(function (session) {\n        if (instance.validateSession) {\n          var value = instance.validateSession(session);\n          if ((0, _isPromise2.default)(value)) {\n            return value.then(function (valid) {\n              if (!valid) {\n                throw new Error(\"Session is invalid\");\n              }\n              return _this.attemptLoadUser();\n            }).catch(function () {\n              _this.invalidateSession();\n            });\n          } else if (!value) {\n            _this.invalidateSession();\n            return;\n          }\n        }\n        return _this.attemptLoadUser();\n      }).catch(function () {\n        instance.store.dispatch((0, _actions.getSessionError)());\n      });\n    }\n  }, {\n    key: 'checkAuth',\n    value: function checkAuth(nextState, replace, next) {\n      var _instance = instance,\n        refreshOnCheckAuth = _instance.refreshOnCheckAuth,\n        store = _instance.store;\n      sessionService.loadSession().then(function () {\n        refreshOnCheckAuth && store.dispatch((0, _actions.getSessionSuccess)());\n        sessionService.loadUser().then(function (user) {\n          refreshOnCheckAuth && store.dispatch((0, _actions.getUserSessionSuccess)(user));\n          next();\n        }).catch(function () {\n          return next();\n        });\n      }).catch(function () {\n        refreshOnCheckAuth && store.dispatch((0, _actions.getSessionError)());\n        refreshOnCheckAuth && store.dispatch((0, _actions.getUserSessionError)());\n        replace({\n          pathname: instance.redirectPath,\n          state: {\n            nextPathname: nextState.location.pathname\n          }\n        });\n        next();\n      });\n    }\n  }, {\n    key: 'saveSession',\n    value: function saveSession(session) {\n      return new Promise(function (resolve) {\n        if (instance.server) {\n          instance[_constants.USER_SESSION] = session;\n          instance.store.dispatch((0, _actions.getSessionSuccess)());\n          resolve();\n        } else if (instance.driver === 'COOKIES') {\n          Cookies.set(_constants.USER_SESSION, session, {\n            expires: instance.expires\n          });\n          instance.store.dispatch((0, _actions.getSessionSuccess)());\n          resolve();\n        } else {\n          instance.storage.setItem(_constants.USER_SESSION, session).then(function () {\n            instance.store.dispatch((0, _actions.getSessionSuccess)());\n            resolve();\n          }).catch(function () {\n            Cookies.set(_constants.USER_SESSION, session, {\n              expires: instance.expires\n            });\n            instance.store.dispatch((0, _actions.getSessionSuccess)());\n            resolve();\n          });\n        }\n      });\n    }\n  }, {\n    key: 'loadSession',\n    value: function loadSession() {\n      return new Promise(function (resolve, reject) {\n        if (instance.server) {\n          instance[_constants.USER_SESSION] ? resolve(instance[_constants.USER_SESSION]) : reject();\n        } else if (instance.driver === 'COOKIES') {\n          var cookies = Cookies.getJSON(_constants.USER_SESSION);\n          cookies ? resolve(cookies) : reject('Session not found');\n        } else {\n          instance.storage.getItem(_constants.USER_SESSION).then(function (currentSession) {\n            if (currentSession) {\n              resolve(currentSession);\n            } else {\n              var _cookies = Cookies.getJSON(_constants.USER_SESSION);\n              _cookies ? resolve(_cookies) : reject('Session not found');\n            }\n          }).catch(function (err) {\n            return reject(err);\n          });\n        }\n      });\n    }\n  }, {\n    key: 'deleteSession',\n    value: function deleteSession() {\n      return instance.storage.removeItem(_constants.USER_SESSION).then(function () {\n        instance.store.dispatch((0, _actions.getSessionError)());\n        Cookies.remove(_constants.USER_SESSION);\n        delete instance[_constants.USER_SESSION];\n      });\n    }\n  }, {\n    key: 'saveUser',\n    value: function saveUser(user) {\n      return new Promise(function (resolve) {\n        if (instance.server) {\n          instance[_constants.USER_DATA] = user;\n          instance.store.dispatch((0, _actions.getUserSessionSuccess)(user));\n          resolve();\n        } else if (instance.driver === 'COOKIES') {\n          Cookies.set(_constants.USER_DATA, user, {\n            expires: instance.expires\n          });\n          instance.store.dispatch((0, _actions.getUserSessionSuccess)(user));\n          resolve();\n        } else {\n          instance.storage.setItem(_constants.USER_DATA, user).then(function (user) {\n            instance.store.dispatch((0, _actions.getUserSessionSuccess)(user));\n            resolve();\n          }).catch(function () {\n            instance.store.dispatch((0, _actions.getUserSessionSuccess)(user));\n            Cookies.set(_constants.USER_DATA, user, {\n              expires: instance.expires\n            });\n            resolve();\n          });\n        }\n      });\n    }\n  }, {\n    key: 'loadUser',\n    value: function loadUser() {\n      return new Promise(function (resolve, reject) {\n        if (instance.server) {\n          instance[_constants.USER_DATA] ? resolve(instance[_constants.USER_DATA]) : reject();\n        } else if (instance.driver === 'COOKIES') {\n          var cookies = Cookies.getJSON(_constants.USER_DATA);\n          cookies ? resolve(cookies) : reject('User not found');\n        } else {\n          instance.storage.getItem(_constants.USER_DATA).then(function (currentUser) {\n            if (currentUser) {\n              resolve(currentUser);\n            } else {\n              var _cookies2 = Cookies.getJSON(_constants.USER_DATA);\n              _cookies2 ? resolve(_cookies2) : reject('User not found');\n            }\n          }).catch(function (err) {\n            return reject(err);\n          });\n        }\n      });\n    }\n  }, {\n    key: 'deleteUser',\n    value: function deleteUser() {\n      return instance.storage.removeItem(_constants.USER_DATA).then(function () {\n        instance.store.dispatch((0, _actions.getUserSessionError)());\n        Cookies.remove(_constants.USER_DATA);\n        delete instance[_constants.USER_DATA];\n      });\n    }\n  }]);\n  return sessionService;\n}();\nvar sessionReducer = exports.sessionReducer = _reducer2.default;","map":{"version":3,"names":["Object","defineProperty","exports","value","sessionReducer","sessionService","undefined","_extends","assign","target","i","arguments","length","source","key","prototype","hasOwnProperty","call","_createClass","defineProperties","props","descriptor","enumerable","configurable","writable","Constructor","protoProps","staticProps","_constants","require","_jsCookie","Cookies","_interopRequireWildcard","_isPromise","_isPromise2","_interopRequireDefault","_actions","_reducer","_reducer2","obj","__esModule","default","newObj","_classCallCheck","instance","TypeError","store","options","setOptions","_ref","driver","validateSession","_ref$refreshOnCheckAu","refreshOnCheckAuth","_ref$expires","expires","_ref$redirectPath","redirectPath","_ref$server","server","storageOptions","name","localforage","storage","createInstance","initSessionService","refreshFromLocalStorage","initServerSession","req","parseCookies","list","rc","get","split","forEach","cookie","parts","trim","USER_SESSION","USER_DATA","JSON","parse","decodeURIComponent","saveFromClient","cookies","Promise","resolve","reject","saveSession","then","saveUser","dispatch","getSessionError","invalidateSession","invalidSession","deleteSession","deleteUser","attemptLoadUser","getSessionSuccess","loadUser","user","getUserSessionSuccess","catch","getUserSessionError","_this","loadSession","session","valid","Error","checkAuth","nextState","replace","next","_instance","pathname","state","nextPathname","location","set","setItem","getJSON","getItem","currentSession","_cookies","err","removeItem","remove","currentUser","_cookies2"],"sources":["/Users/davidsonchua/HearMeOut/hearmeoutfrontend/node_modules/redux-react-session/dist/index.js"],"sourcesContent":["'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.sessionReducer = exports.sessionService = undefined;\n\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _constants = require('./constants');\n\nvar _jsCookie = require('js-cookie');\n\nvar Cookies = _interopRequireWildcard(_jsCookie);\n\nvar _isPromise = require('is-promise');\n\nvar _isPromise2 = _interopRequireDefault(_isPromise);\n\nvar _actions = require('./actions');\n\nvar _reducer = require('./reducer');\n\nvar _reducer2 = _interopRequireDefault(_reducer);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar instance = void 0;\n\nvar sessionService = exports.sessionService = function () {\n  function sessionService(store, options) {\n    _classCallCheck(this, sessionService);\n\n    instance = this;\n    sessionService.setOptions(store, options);\n    return instance;\n  }\n\n  _createClass(sessionService, null, [{\n    key: 'setOptions',\n    value: function setOptions(store) {\n      var _ref = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {},\n          driver = _ref.driver,\n          validateSession = _ref.validateSession,\n          _ref$refreshOnCheckAu = _ref.refreshOnCheckAuth,\n          refreshOnCheckAuth = _ref$refreshOnCheckAu === undefined ? false : _ref$refreshOnCheckAu,\n          _ref$expires = _ref.expires,\n          expires = _ref$expires === undefined ? 360 : _ref$expires,\n          _ref$redirectPath = _ref.redirectPath,\n          redirectPath = _ref$redirectPath === undefined ? 'login' : _ref$redirectPath,\n          _ref$server = _ref.server,\n          server = _ref$server === undefined ? false : _ref$server;\n\n      instance.store = store;\n      instance.refreshOnCheckAuth = refreshOnCheckAuth;\n      instance.redirectPath = redirectPath;\n      instance.expires = expires;\n      instance.driver = driver;\n      instance.server = server;\n      instance.validateSession = validateSession;\n\n      // configure the storage\n      var storageOptions = {\n        name: 'redux-react-session'\n      };\n      var localforage = require('localforage');\n      if (driver && driver !== 'COOKIES') {\n        storageOptions.driver = localforage[driver];\n      }\n      instance.storage = localforage.createInstance(storageOptions);\n    }\n  }, {\n    key: 'initSessionService',\n    value: function initSessionService(store, options) {\n      instance = new sessionService(store, options);\n      return sessionService.refreshFromLocalStorage();\n    }\n  }, {\n    key: 'initServerSession',\n    value: function initServerSession(store, req, options) {\n      instance = new sessionService(store, _extends({}, options, { server: true }));\n      var parseCookies = function parseCookies(req) {\n        var list = {};\n        var rc = req.get('cookie');\n        rc && rc.split(';').forEach(function (cookie) {\n          var parts = cookie.split('=');\n          if (parts[0].trim() === _constants.USER_SESSION || parts[0].trim() === _constants.USER_DATA) {\n            list[parts[0].trim()] = JSON.parse(decodeURIComponent(parts[1]));\n          }\n        });\n\n        return list;\n      };\n      return sessionService.saveFromClient(parseCookies(req));\n    }\n  }, {\n    key: 'saveFromClient',\n    value: function saveFromClient(cookies) {\n      return new Promise(function (resolve, reject) {\n        if (cookies[_constants.USER_SESSION]) {\n          sessionService.saveSession(cookies[_constants.USER_SESSION]).then(function () {\n            if (cookies[_constants.USER_DATA]) {\n              sessionService.saveUser(cookies[_constants.USER_DATA]).then(function () {\n                return resolve();\n              });\n            } else {\n              return resolve();\n            }\n          });\n        } else {\n          instance.store.dispatch((0, _actions.getSessionError)());\n          reject('Session not found');\n        }\n      });\n    }\n  }, {\n    key: 'invalidateSession',\n    value: function invalidateSession() {\n      instance.store.dispatch((0, _actions.invalidSession)());\n      sessionService.deleteSession();\n      sessionService.deleteUser();\n    }\n  }, {\n    key: 'attemptLoadUser',\n    value: function attemptLoadUser() {\n      instance.store.dispatch((0, _actions.getSessionSuccess)());\n      return sessionService.loadUser().then(function (user) {\n        instance.store.dispatch((0, _actions.getUserSessionSuccess)(user));\n      }).catch(function () {\n        instance.store.dispatch((0, _actions.getUserSessionError)());\n      });\n    }\n  }, {\n    key: 'refreshFromLocalStorage',\n    value: function refreshFromLocalStorage() {\n      var _this = this;\n\n      return sessionService.loadSession().then(function (session) {\n        if (instance.validateSession) {\n          var value = instance.validateSession(session);\n\n          if ((0, _isPromise2.default)(value)) {\n            return value.then(function (valid) {\n              if (!valid) {\n                throw new Error(\"Session is invalid\");\n              }\n              return _this.attemptLoadUser();\n            }).catch(function () {\n              _this.invalidateSession();\n            });\n          } else if (!value) {\n            _this.invalidateSession();\n            return;\n          }\n        }\n        return _this.attemptLoadUser();\n      }).catch(function () {\n        instance.store.dispatch((0, _actions.getSessionError)());\n      });\n    }\n  }, {\n    key: 'checkAuth',\n    value: function checkAuth(nextState, replace, next) {\n      var _instance = instance,\n          refreshOnCheckAuth = _instance.refreshOnCheckAuth,\n          store = _instance.store;\n\n      sessionService.loadSession().then(function () {\n        refreshOnCheckAuth && store.dispatch((0, _actions.getSessionSuccess)());\n        sessionService.loadUser().then(function (user) {\n          refreshOnCheckAuth && store.dispatch((0, _actions.getUserSessionSuccess)(user));\n          next();\n        }).catch(function () {\n          return next();\n        });\n      }).catch(function () {\n        refreshOnCheckAuth && store.dispatch((0, _actions.getSessionError)());\n        refreshOnCheckAuth && store.dispatch((0, _actions.getUserSessionError)());\n        replace({\n          pathname: instance.redirectPath,\n          state: { nextPathname: nextState.location.pathname }\n        });\n        next();\n      });\n    }\n  }, {\n    key: 'saveSession',\n    value: function saveSession(session) {\n      return new Promise(function (resolve) {\n        if (instance.server) {\n          instance[_constants.USER_SESSION] = session;\n          instance.store.dispatch((0, _actions.getSessionSuccess)());\n          resolve();\n        } else if (instance.driver === 'COOKIES') {\n          Cookies.set(_constants.USER_SESSION, session, { expires: instance.expires });\n          instance.store.dispatch((0, _actions.getSessionSuccess)());\n          resolve();\n        } else {\n          instance.storage.setItem(_constants.USER_SESSION, session).then(function () {\n            instance.store.dispatch((0, _actions.getSessionSuccess)());\n            resolve();\n          }).catch(function () {\n            Cookies.set(_constants.USER_SESSION, session, { expires: instance.expires });\n            instance.store.dispatch((0, _actions.getSessionSuccess)());\n            resolve();\n          });\n        }\n      });\n    }\n  }, {\n    key: 'loadSession',\n    value: function loadSession() {\n      return new Promise(function (resolve, reject) {\n        if (instance.server) {\n          instance[_constants.USER_SESSION] ? resolve(instance[_constants.USER_SESSION]) : reject();\n        } else if (instance.driver === 'COOKIES') {\n          var cookies = Cookies.getJSON(_constants.USER_SESSION);\n          cookies ? resolve(cookies) : reject('Session not found');\n        } else {\n          instance.storage.getItem(_constants.USER_SESSION).then(function (currentSession) {\n            if (currentSession) {\n              resolve(currentSession);\n            } else {\n              var _cookies = Cookies.getJSON(_constants.USER_SESSION);\n              _cookies ? resolve(_cookies) : reject('Session not found');\n            }\n          }).catch(function (err) {\n            return reject(err);\n          });\n        }\n      });\n    }\n  }, {\n    key: 'deleteSession',\n    value: function deleteSession() {\n      return instance.storage.removeItem(_constants.USER_SESSION).then(function () {\n        instance.store.dispatch((0, _actions.getSessionError)());\n        Cookies.remove(_constants.USER_SESSION);\n        delete instance[_constants.USER_SESSION];\n      });\n    }\n  }, {\n    key: 'saveUser',\n    value: function saveUser(user) {\n      return new Promise(function (resolve) {\n        if (instance.server) {\n          instance[_constants.USER_DATA] = user;\n          instance.store.dispatch((0, _actions.getUserSessionSuccess)(user));\n          resolve();\n        } else if (instance.driver === 'COOKIES') {\n          Cookies.set(_constants.USER_DATA, user, { expires: instance.expires });\n          instance.store.dispatch((0, _actions.getUserSessionSuccess)(user));\n          resolve();\n        } else {\n          instance.storage.setItem(_constants.USER_DATA, user).then(function (user) {\n            instance.store.dispatch((0, _actions.getUserSessionSuccess)(user));\n            resolve();\n          }).catch(function () {\n            instance.store.dispatch((0, _actions.getUserSessionSuccess)(user));\n            Cookies.set(_constants.USER_DATA, user, { expires: instance.expires });\n            resolve();\n          });\n        }\n      });\n    }\n  }, {\n    key: 'loadUser',\n    value: function loadUser() {\n      return new Promise(function (resolve, reject) {\n        if (instance.server) {\n          instance[_constants.USER_DATA] ? resolve(instance[_constants.USER_DATA]) : reject();\n        } else if (instance.driver === 'COOKIES') {\n          var cookies = Cookies.getJSON(_constants.USER_DATA);\n          cookies ? resolve(cookies) : reject('User not found');\n        } else {\n          instance.storage.getItem(_constants.USER_DATA).then(function (currentUser) {\n            if (currentUser) {\n              resolve(currentUser);\n            } else {\n              var _cookies2 = Cookies.getJSON(_constants.USER_DATA);\n              _cookies2 ? resolve(_cookies2) : reject('User not found');\n            }\n          }).catch(function (err) {\n            return reject(err);\n          });\n        }\n      });\n    }\n  }, {\n    key: 'deleteUser',\n    value: function deleteUser() {\n      return instance.storage.removeItem(_constants.USER_DATA).then(function () {\n        instance.store.dispatch((0, _actions.getUserSessionError)());\n        Cookies.remove(_constants.USER_DATA);\n        delete instance[_constants.USER_DATA];\n      });\n    }\n  }]);\n\n  return sessionService;\n}();\n\nvar sessionReducer = exports.sessionReducer = _reducer2.default;"],"mappings":"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"},"metadata":{},"sourceType":"script","externalDependencies":[]}